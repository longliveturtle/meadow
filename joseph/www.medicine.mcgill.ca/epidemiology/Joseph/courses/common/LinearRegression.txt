model
{
    for (i in 1:n) {
     mu[i]  <- alpha + b.sex*sex[i] + b.age*age[i]   # Regression function

     bp[i]   ~ dnorm(mu[i],tau)                      # Normal likelihood terms for each data point

    }
    alpha    ~ dnorm(0.0,1.0E-4)
    b.sex    ~ dnorm(0.0,1.0E-4)
    b.age    ~ dnorm(0.0,1.0E-4)
    tau      ~ dgamma(1.0E-3,1.0E-3)
    sigma   <- 1.0/sqrt(tau)

#   Probably better to do this:
#   tau     <-  1/(sigma*sigma)                      # Prior for tau as function of sigma
#   sigma    ~  dunif(0,20)                          # Prior directly on sigma
                                                     # Try it and check if any difference in inferences!
 }

# Data

list(
  sex = c(0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0,
          1, 0, 1, 0, 0, 0, 1, 1, 1, 1),
  age = c(59, 52, 37, 40, 67, 43, 61, 34, 51, 58, 54, 31, 49, 45, 66, 48, 41, 47, 53, 62,
          60, 33, 44, 70, 56, 69, 35, 36, 68, 38),
  bp = c(143, 132, 88, 98, 177, 102, 154, 83, 131, 150, 131, 69, 111, 114, 170, 117, 96, 116, 131, 158,
         156, 75, 111, 184, 141, 182, 74, 87, 183, 89),
  n=30)

# Inits

list(alpha=50, b.sex=1, b.age=4, tau=1)

# Results

|   node |    mean |      sd | MC error |    2.5% |  median |  97.5% | start | sample  |

|  alpha |   -23.0 |   3.615 |   0.2896 |  -30.05 |  -23.15 | -15.23 |  1001 |   5000  |
|  b.age |   2.934 | 0.06587 | 0.005214 |   2.792 |   2.937 |  3.065 |  1001 |   5000  |
|  b.sex |    1.63 |    1.52 |  0.05885 |  -1.384 |   1.602 |  4.533 |  1001 |   5000  |
|  mu[1] |   150.1 |   1.032 |  0.02828 |   148.1 |   150.1 |  152.2 |  1001 |   5000  |
|  mu[2] |   131.2 |   1.165 |  0.03362 |   128.9 |   131.2 |  133.5 |  1001 |   5000  |
|  mu[3] |   85.57 |   1.418 |  0.09821 |   82.89 |   85.53 |  88.44 |  1001 |   5000  |
|  mu[4] |   94.37 |   1.279 |    0.083 |   91.95 |   94.35 |  96.97 |  1001 |   5000  |
|  mu[5] |   173.6 |   1.328 |   0.0641 |   170.9 |   173.6 |  176.2 |  1001 |   5000  |
|  mu[6] |   104.8 |    1.15 |  0.02387 |   102.6 |   104.8 |  107.1 |  1001 |   5000  |
|  mu[7] |   156.0 |    1.09 |  0.03606 |   153.9 |   156.0 |  158.2 |  1001 |   5000  |
|  mu[8] |    78.4 |   1.411 |  0.06643 |   75.68 |   78.37 |  81.22 |  1001 |   5000  |
|  mu[9] |   128.3 |   1.149 |  0.02917 |   126.0 |   128.3 |  130.6 |  1001 |   5000  |
| mu[10] |   147.2 |   1.009 |  0.02511 |   145.2 |   147.2 |  149.2 |  1001 |   5000  |
| mu[11] |   137.1 |   1.209 |  0.04305 |   134.7 |   137.1 |  139.5 |  1001 |   5000  |
| mu[12] |   67.96 |   1.731 |   0.1289 |    64.6 |   67.91 |  71.57 |  1001 |   5000  |
| mu[13] |   120.8 |  0.9874 |  0.03946 |   118.9 |   120.8 |  122.7 |  1001 |   5000  |
| mu[14] |   109.0 |   1.087 |  0.05816 |   107.0 |   109.0 |  111.2 |  1001 |   5000  |
| mu[15] |   170.7 |   1.283 |   0.0592 |   168.1 |   170.7 |  173.2 |  1001 |   5000  |
| mu[16] |   119.5 |    1.12 |  0.01837 |   117.3 |   119.5 |  121.7 |  1001 |   5000  |
| mu[17] |    97.3 |   1.236 |  0.07797 |   94.97 |   97.29 |  99.81 |  1001 |   5000  |
| mu[18] |   116.5 |   1.119 |  0.01659 |   114.4 |   116.5 |  118.8 |  1001 |   5000  |
| mu[19] |   132.5 |  0.9525 |  0.02453 |   130.7 |   132.5 |  134.4 |  1001 |   5000  |
| mu[20] |   158.9 |   1.124 |  0.04041 |   156.7 |   158.9 |  161.2 |  1001 |   5000  |
| mu[21] |   154.7 |   1.407 |  0.07299 |   151.9 |   154.7 |  157.5 |  1001 |   5000  |
| mu[22] |   73.83 |   1.623 |   0.1187 |   70.71 |   73.78 |  77.18 |  1001 |   5000  |
| mu[23] |   107.7 |   1.137 |  0.02036 |   105.5 |   107.7 |  110.0 |  1001 |   5000  |
| mu[24] |   182.4 |   1.473 |  0.07904 |   179.4 |   182.4 |  185.3 |  1001 |   5000  |
| mu[25] |   141.3 |  0.9734 |  0.02135 |   139.4 |   141.3 |  143.3 |  1001 |   5000  |
| mu[26] |   179.5 |   1.423 |  0.07403 |   176.6 |   179.5 |  182.3 |  1001 |   5000  |
| mu[27] |   81.33 |   1.372 |  0.06139 |   78.66 |   81.31 |  84.09 |  1001 |   5000  |
| mu[28] |   84.26 |   1.335 |  0.05638 |   81.67 |   84.25 |  86.94 |  1001 |   5000  |
| mu[29] |   178.2 |   1.777 |    0.114 |   174.5 |   178.2 |  181.7 |  1001 |   5000  |
| mu[30] |   90.13 |   1.268 |  0.04649 |   87.65 |   90.12 |  92.68 |  1001 |   5000  |
|    tau | 0.06592 | 0.01799 | 3.943E-4 | 0.03531 | 0.06459 | 0.1043 |  1001 |   5000  |
|  sigma |    4.01 |  0.5809 |  0.01299 |   3.097 |   3.935 |  5.322 |  1001 |   5000  |
